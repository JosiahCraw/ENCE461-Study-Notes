\begin{figure}[H]
\begin{center}
    \begin{tikzpicture}
        \draw (0,0) -- (2,0) -- (2,-5) -- (0,-5) -- (0,0);

        \draw (0,-1) -- (2,-1);
        \draw (0,-2) -- (2,-2);
        \draw (0,-3) -- (2,-3);
        \draw (0,-4) -- (2,-4);

        \draw (1,-0.5) node[] {CSR};
        \draw (1,-1.5) node[] {SRC};
        \draw (1,-2.5) node[] {DST};
        \draw (1,-3.5) node[] {TC};
        \draw (1,-4.5) node[] {CHAIN1};
    
        \draw (0,-6) -- (2,-6) -- (2,-11) -- (0,-11) -- (0,-6);

        \draw (0,-7) -- (2,-7);
        \draw (0,-8) -- (2,-8);
        \draw (0,-9) -- (2,-9);
        \draw (0,-10) -- (2,-10);

        \draw (1,-6.5) node[] {CSR};
        \draw (1,-7.5) node[] {SRC};
        \draw (1,-8.5) node[] {DST};
        \draw (1,-9.5) node[] {TC};
        \draw (1,-10.5) node[] {CHAIN2};

        % Draw Arrows
        \draw[arrow] (2,-2.5) -- (3,-2.5) |- (4,-0.5);
        \draw[arrow] (2,-8.5) -- (6.5,-8.5) |- (7,-0.5);

        \draw[fill=gray!10] (4,0) -- (6,0) node[above, midway] {Buffer 1} -- (6,-11) -- (4,-11) -- (4,0);

        \draw[fill=gray!10] (7,0) -- (9,0) node[above, midway] {Buffer 2} -- (9,-11) -- (7,-11) -- (7,0);

        \draw[arrow] (0,-4.5) -- ++(-0.5,0) |- (0,-6.5);
        \draw[arrow] (0,-10.5) -- ++(-1,0) |- (0,-0.5);

        \draw[arrow, line width=4pt] (-2,-1.5) -- (0,-1.5);
        \draw[arrow, line width=4pt] (-2,-7.5) -- (0,-7.5);
    \end{tikzpicture}
\end{center}
\caption{Two-Channel Double Buffered DMA Chaining}
\label{fig:dma-chain}
\end{figure}
