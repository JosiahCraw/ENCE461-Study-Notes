\begin{figure}[H]
\begin{center}
    \begin{tikzpicture}
        \draw[fill=gray!10] (0,0) -- (2,0) -- (2,-2) -- (0,-2) -- (0,0);
            \draw (1,-1) node[] {Device};

        \draw[fill=red!10] (3,0) -- (5,0) -- (5,-2) -- (3,-2) -- (3,0);
            \draw[text width=2cm, text centered] (4,-1) node[] {DMA Controller};
    
        \draw (6,0) -- (8,0) -- (8,-2) -- (6,-2) -- (6,0);
            \draw (7,-1) node[] {Memory};

        \draw[fill=blue!10] (9,0) -- (11,0) -- (11,-2) -- (9,-2) -- (9,0);
            \draw (10,-1) node[] {CPU};

        % Draw Arrows
        \draw[darrow, line width=6pt] (-1,-3) node[left] {Address Bus} -- (12,-3);
        \draw[darrow, line width=4pt] (1,-3) -- (1,-2);
        \draw[darrow, line width=4pt] (4,-3) -- (4,-2);
        \draw[darrow, line width=4pt] (7,-3) -- (7,-2);
        \draw[darrow, line width=4pt] (10,-3) -- (10,-2);

        \draw[arrow] (0.5,0) node[below] {\small IRQ} -- (0.5,1) -| (10.5,0);
        \draw[arrow] (1.5,0) node[below] {\small DRQ} -- (1.5,0.5) -| (3.5,0);
        \draw[arrow] (4.5,0) node[below] {\small IRQ} -- (4.5,0.5) -| (9.5,0);
    
    \end{tikzpicture}
\end{center}
\caption{Typical DMA Configuration}
\label{fig:dma-config}
\end{figure}
